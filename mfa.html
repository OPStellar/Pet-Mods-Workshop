<html>
<head>
<title>Megas For All</title>
<style>
body, table {
font-size: 24px;
}
button {
background-color: black;
color: aqua;
border: solid 4px aqua;
font-size:28px;
}
.code {
background-color: black;
color:lime;
}
h1 {
font-family: Jokerman;
color:Aqua;
background-color:black;
width: 40%;
border: 4px solid Aqua;
text-align: center;
}
p {
background-color: black;
color: aqua;
}
.mod {
background-color: black;
color: #FFA000;
}
</style>
</head>
<body>
<center>
 <h1>Megas For All!</h1>
Playable in <a href="http://nexus.psim.us">Nexus!</a>
</center>
<table>
<td>Pokemon: </td> 
<td><input type="text" id="pokemon" title="Enter the base forme of the mega Pokemon. Example: Garchomp"></input></td>
</tr>
<td>Dex Number:</td> 
<td><Input type="text" id="num"></input></td>
</tr>
<td>Types:</td> 
<td><Input type="text" id="type"></input></td>
<td><Input type="text" id="type2"></input></td>
</tr>
<td>HP:</td>
<td><Input type="text" id="hp"></input></td>
</tr>
<td>Atk:</td>
<td><Input type="text" id="oldatk"></input></td>
<td><Input type="text" id="atk"></input></td>
<td id="modatk"></td>
</tr>
<td>Def:</td>
<td><Input type="text" id="olddef"></input></td>
<td><Input type="text" id="def"></input></td>
</tr>
<td>SpA:</td>
<td><Input type="text" id="oldspa"></input></td>
<td><Input type="text" id="spa"></input></td>
</tr>
<td>SpD:</td>
<td><Input type="text" id="oldspd"></input></td>
<td><Input type="text" id="spd"></input></td>
</tr>
<td>
Spe:</td>
<td><Input type="text" id="oldspe"></input></td>
<td><Input type="text" id="spe"></input></td>
</tr>
<td>Ability:</td>
<td><Input type="text" id="abe"></input></td>
</tr>
<tr>
<td>Ability Description</td>
<td><textarea type="text" id="abedesc" style="width:700%;"></textarea></td>
</tr>
<td>Weight:</td>
<td><Input type="text" id="wt"></input></td>
</tr>
<tr>
<td>New Move:</td>
<td><Input type="text" id="newmove1"></input></td></td>
</tr>
<tr>
<td>New Move:</td>
<td><Input type="text" id="newmove2"></input></td></td>
</tr>
<tr>
<td>New Move:</td>
<td><Input type="text" id="newmove3"></input></td></td>
</tr>
<tr>
<td>New Move:</td>
<td><Input type="text" id="newmove4"></input></td></td>
</tr>
<tr>
<td>Description / Competitive</td>
<td><textarea id="comp" style="width:700%;"></textarea></td>
</tr>
</table>
<br>
<center>
<img src="https://play.pokemonshowdown.com/sprites/xyani/marshadow.gif" width="48" height="63"><button onClick="post()">Generate</button><img src="https://play.pokemonshowdown.com/sprites/xyani/marshadow.gif" width="48" height="63">
</center>
<br>
<p id="xd"> </p>
<script>
function post ()
{
// Front and Back End

// Inputs
let pokemon= document.getElementById("pokemon").value;
let num= document.getElementById("num").value;
let type= document.getElementById("type").value;
let type2= document.getElementById("type2").value;
let hp= document.getElementById("hp").value;
let atk= document.getElementById("atk").value;
let def= document.getElementById("def").value;
let spa= document.getElementById("spa").value;
let spd= document.getElementById("spd").value;
let spe= document.getElementById("spe").value;
let abe= document.getElementById("abe").value;
let abedesc = document.getElementById("abedesc").value;
let wt= document.getElementById("wt").value;
let comp= document.getElementById("comp").value;

// Ability code
let abedescription = `(${abedesc})`;

let abesmall = abe.toLowerCase();
let abecode = `abilities.js <br>[CODE=javascript]${abesmall}: { // Remove spacing in the ability name (Onto the left) if applicable<br>shortDesc:&quot;${abedesc}&quot;,<br>id: ${abesmall}, <br> name: &quot;${abe}&quot;, <br>// Code[/CODE]<br>},`;

if (abedesc === "") {
abedescription = "";
abecode = "";
}

// Learnsets code
let newmove1 = document.getElementById("newmove1").value;
let newmove2 = document.getElementById("newmove2").value;
let newmove3 = document.getElementById("newmove3").value;
let newmove4 = document.getElementById("newmove4").value;

let nm1 = newmove1.toLowerCase();
let nm2 = newmove2.toLowerCase();
let nm3 = newmove3.toLowerCase();
let nm4 = newmove4.toLowerCase();

if (newmove1 === "") {
nm1 = "N/A";
}

if (nm1 === "N/A") {
nm1 = `// Ignore learnsets.js (Don't copy the whole learnsets.js if you see this message)`
}
if (nm2 === "") {
nm2 = `// Remove this line`
}
if (nm3 === "") {
nm3 = `// Remove this line`
}
if (nm4 === "") {
nm4 = `// Remove this line`
}

let learncode = `learnsets.js <br>[CODE=javascript]${nm1}: [&quot;6L1&quot;], <br> ${nm2}: [&quot;6L1&quot;], <br> ${nm3}: [&quot;6L1&quot;], <br> ${nm4}: [&quot;6L1&quot;],[/CODE]<br>`;
if (nm1 === "// Ignore learnsets.js (Don't copy the whole learnsets.js if you see this message)") {
learncode = "";
}

// Stats modification regulator

let oldatk= document.getElementById("oldatk").value;
let olddef= document.getElementById("olddef").value;
let oldspa= document.getElementById("oldspa").value;
let oldspd= document.getElementById("oldspd").value;
let oldspe= document.getElementById("oldspe").value;

let modatk = atk - oldatk;
let moddef = def - olddef;
let modspa = spa - oldspa;
let modspd = spd - oldspd;
let modspe = spe - oldspe;

let dmodatk = modatk;
if (atk > oldatk) {
dmodatk = `&#43;${dmodatk}`;
}
let dmoddef = moddef;
if (def > olddef) {
dmoddef = `&#43;${dmoddef}`;
}
let dmodspa = modspa;
if (spa > oldspa) {
dmodspa = `&#43;${dmodspa}`;
}
let dmodspd = modspd;
if (spd > oldspd) {
dmodspd = `&#43;${dmodspd}`;
}
let dmodspe = modspe;
if (spe > oldspe) {
dmodspe = `&#43;${dmodspe}`;
}

let totalmod = modatk + moddef + modspa + modspd + modspe;
let modify = 100 - totalmod;
if (totalmod > 100) {
msg = `<span class=mod>The net stat gain is more than 100, reduce by ${modify} from the current distribution.</span>`;
}
else if (totalmod === 100) {
msg = ""
}
else if (totalmod < 100) {
msg = `<span class=mod>The net stat gain is less than 100, add ${modify} in the current distribution.</span>`;
}

// Defaults and casing

let poke = pokemon.toLowerCase();
let t1 = type.toLowerCase();
let t2 = type2;
if (type2 === "") {
type2 = "],";
}
else {
type2 = ", &quot;"+type2+" &quot;],";
}
if (wt === "") {
wt = "100";
}
if (newmove1 === "") {
newmove1 = "N/A";
}


document.getElementById("xd").innerHTML = ""+msg+"<br>[IMG]http://play.pokemonshowdown.com/sprites/xyani/"+poke+".gif[/IMG]<br>[IMG]http://play.pokemonshowdown.com/sprites/types/"+type+".png[/IMG][IMG]http://play.pokemonshowdown.com/sprites/types/"+t2+".png[/IMG]<br>[B]Mega "+pokemon+"[/B] <br>[B]Ability:[/B] "+abe+" "+abedescription+"<br>[B]HP:[/B] "+hp+" <br> [I][B]Atk:[/B][/I] "+oldatk+" ---> "+atk+" [I]("+dmodatk+")[/I] <br>[I][B]Def:[/B][/I] "+olddef+" ---> "+def+" [I]("+dmoddef+")[/I] <br>[I][B]SpA:[/B][/I] "+oldspa+" ---> "+spa+" [I]("+dmodspa+")[/I]<br>[I][B]SpD:[/B][/I] "+oldspd+" ---> "+spd+" [I]("+dmodspd+")[/I] <br>[I][B]Spe:[/B][/I] "+oldspe+" ---> "+spe+" [I]("+dmodspe+")[/I]<br> [B]Weight:[/B] "+wt+" kg<br>[B]New Moves:[/B] "+newmove1+", "+newmove2+", "+newmove3+", "+newmove4+", <br>[B]Description:[/B]  "+comp+"<br><br><div class=code>[hide=Code]pokedex.js <br> [CODE=javascript]"+poke+"mega: {<br>num: "+num+", <br>species: "+pokemon+"-Mega, <br>baseSpecies: "+pokemon+", <br>forme: Mega, <br> formeLetter: M, <br>types:[&quot;"+type+"&quot;"+type2+"<br> baseStats: {hp:"+hp+", atk: "+atk+", def, "+def+", spa: "+spa+", spd: "+spd+", spe: "+spe+"} <br>abilities: {0: &quot;"+abe+"&quot;}, <br>weightkg: "+wt+", <br>evoLevel: 1,<br>}, [/CODE]<br> <br> items.js <br>[CODE=javascript]"+poke+"ite: { <br>id: &quot;"+poke+"ite&quot;,<br>name: &quot;"+pokemon+"ite, <br> spritenum: 612, <br> megaStone: &quot;"+pokemon+"-Mega&quot;, <br>megaEvolves: &quot;"+pokemon+"&quot;,<br>onTakeItem: function (item, source) { <br> if (item.megaEvolves === source.baseTemplate.baseSpecies} return false; <br> return true; <br> }, <br>num: 760, <br> gen: 7, <br>desc: &quot;If holder is a "+pokemon+", this item allows it to mega evolve in battle.&quot; <br> },[/CODE]<br><br>formats-data.js<br>[CODE=javascript]"+poke+":<br>randomBattleMoves: [], <br>randomDoublesBattleMoves: [], <br>requiredItem: &quot;"+pokemon+"ite&quot;,<br>tier: &quot;OU&quot;,<br>},[/CODE]<br><br>"+abecode+"<br><br>"+learncode+"[/hide]</div>";
}
</script>
</body>
</html> 
